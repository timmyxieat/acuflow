# 1.16_1 - CLAUDE.md Restructure

**Date:** 2024-12-14
**Type:** Meta / Project Organization
**Objective:** Restructure `.claude.md` following Anthropic best practices

---

## Summary

Reorganized project documentation to follow Anthropic's recommended structure for Claude Code. Moved from a single monolithic `.claude.md` file to a modular structure using `.claude/rules/`.

## What Changed

### Before
- Single `.claude.md` file: **1339 lines**
- `docs/specs/` folder with 5 spec files
- Redundant structure (specs for humans vs. Claude instructions unclear)

### After
- `.claude.md`: **210 lines** (84% reduction) - core project context only
- `.claude/rules/`: 8 modular rule files (auto-loaded by Claude Code)
- `docs/specs/` removed (consolidated into rules)

## New Structure

```
.claude/
├── CLAUDE.md                      # 210 lines - core context
└── rules/
    ├── animations.md              # 94 lines - Framer Motion patterns
    ├── colors.md                  # 139 lines - color system decisions
    ├── components.md              # 173 lines - ScrollableArea, PatientCards, contexts
    ├── domain.md                  # 151 lines - detailed domain models
    ├── recognition-patterns.md    # 381 lines - text recognition specs
    ├── spacing.md                 # 85 lines - panel padding, gaps
    ├── time-formatting.md         # 179 lines - time display specs
    └── typography.md              # 158 lines - text styling rules
```

## Key Decisions

### Why `.claude/rules/` instead of `docs/specs/`

Per Anthropic best practices:
- Files in `.claude/rules/` are **auto-loaded** every Claude Code session
- `docs/specs/` required manual `@` imports to be visible to Claude
- One source of truth - no ambiguity about what Claude sees

### What stayed in `.claude.md`

- Project mission and philosophy
- Technology stack (table format, no ASCII diagrams)
- Project structure
- Key domain concepts (brief summaries)
- Essential code conventions
- Acupuncture domain knowledge
- Security/HIPAA overview
- Notes for AI assistants

### What moved to `.claude/rules/`

| Content | Destination |
|---------|-------------|
| ScrollableArea, PatientCards, HeaderContext, TransitionContext docs | `components.md` |
| Animation configs, Framer Motion patterns | `animations.md` |
| Detailed domain model descriptions | `domain.md` |
| Color system (from docs/specs) | `colors.md` |
| Typography (from docs/specs) | `typography.md` |
| Spacing (from docs/specs) | `spacing.md` |
| Time formatting (from docs/specs) | `time-formatting.md` |
| Recognition patterns (from docs/specs) | `recognition-patterns.md` |

### What was removed

- ASCII diagrams (production stack, auth flow)
- Cost estimates
- SaaS pricing tier details
- Detailed phase roadmap (2-4+)
- Communication guidelines (generic)
- Resources & references section

## Handoff Organization

Also established convention for meta/maintenance handoffs:

```
docs/handoffs/
├── 1.01_initiation.md      # Feature development
├── ...
├── 1.16_soap_sections.md   # Feature development
└── meta/
    └── 1.16_1_...          # Meta work during 1.16 period
```

Sub-numbering (`_1`) ties meta work to project timeline without disrupting feature sequence.

## Files Modified

- `.claude.md` - Rewritten (1339 → 210 lines)
- `.claude/rules/` - Created directory with 8 files
- `docs/specs/` - Removed (contents moved to rules)
- `docs/handoffs/meta/` - Created for meta handoffs

## Next Steps

None required. Structure is in place and follows best practices.
